# Local Development Environment Setup

This project requires Python 3.11 for local development to match the CI environment.

## Setup Instructions

1. Install Python 3.11 (if not already installed):
   ```bash
   brew install python@3.11
   ```

2. Create virtual environment:
   ```bash
   python3.11 -m venv .venv
   ```

3. Activate virtual environment:
   ```bash
   source .venv/bin/activate
   ```

4. Install dependencies:
   ```bash
   pip install --upgrade pip
   pip install -r requirements.txt
   ```

5. Install from lockfile (for reproducible builds):
   ```bash
   pip install --require-hashes -r requirements.lock
   ```

## Running Tests with Coverage

```bash
# Run all tests
PYTHONPATH=. pytest

# Run with coverage
PYTHONPATH=. pytest --cov=. --cov-report=xml --cov-report=term

# Check coverage threshold
python scripts/enforce_cov.py coverage.xml 90
```

## Regenerating Lockfile

```bash
make sync-lock
```

Note: The `.venv` directory is gitignored and should not be committed.